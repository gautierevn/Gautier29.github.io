async function loadProjects() {
    const response = await fetch('projects.json');
    const projects = await response.json();
    const projectList = document.getElementById('project-list');

    projects.forEach(project => {
        const projectElement = document.createElement('div');
        projectElement.classList.add('project');
        projectElement.innerHTML = `
            <h3>${project.title}</h3>
            <p>${project.description}</p>
            <div class="project-links">
                <a href="${project.liveLink}" target="_blank">Live Demo</a>
                <a href="${project.githubLink}" target="_blank">GitHub</a>
            </div>
        `;
        projectList.appendChild(projectElement);
    });
}

function animateSections() {
    const sections = document.querySelectorAll('section');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, { threshold: 0.1 });

    sections.forEach(section => {
        observer.observe(section);
    });
}

function animateCounters() {
    const counters = document.querySelectorAll('.counter');
    const speed = 200;

    counters.forEach(counter => {
        const updateCount = () => {
            const target = +counter.getAttribute('data-target');
            const count = +counter.innerText;
            const inc = target / speed;

            if (count < target) {
                counter.innerText = Math.ceil(count + inc);
                setTimeout(updateCount, 1);
            } else {
                counter.innerText = target;
            }
        };

        updateCount();
    });
}

function animateSkillBars() {
    const skillBars = document.querySelectorAll('.skill-bar');

    skillBars.forEach(skillBar => {
        const percentage = skillBar.getAttribute('data-percentage');
        const skillProgress = document.createElement('div');
        skillProgress.classList.add('skill-progress');
        skillBar.appendChild(skillProgress);

        setTimeout(() => {
            skillProgress.style.width = `${percentage}%`;
        }, 100);
    });
}

const asciiArt = `2222222222222222222222222222222222222222222222222222222222222222222222222222222222232222222222222222
2222222222222222222222222222222222222222222222222233233333333333333333333333332233333333232222222222
2222222222222222222222222222222222222223333333333333333333333333333333333333333333333333333333333322
2222222222222222222222222222222222223333333333333333333333333333333333333333333333333333333333333333
2222222222222222222222222222222333223333333333333333333333333333333333333333333333333333333333333333
2222222222222222222222222222233332242333222222333333333333333333333333333333333333333333333333333333
2222222222222222222222222222333332554554699999665522223333333333333333333333333333333333333333333333
2222222222222222222222223323333332449988996666666964555522333333333333333333333333333333333333333333
2222222222222222222233323322333325689999664566888889999664523333333333333333333333333333333333333333
2222222222222222223333322322322256898989666980000008888996664523333333333333333333333333333333333333
2222222222222222223332222222222549999888968000000000088899996664522233333333333333333333333333333333
2222222222222222233322252225525469989980980000000000888880899999666533333333333333333333333333333333
2222222222222322333332252222545466988800000008888888988008899999996653333333333333333333333333333333
2222222222223233333332225552554498880000000000888889999988889998999966533333333333333333333333333333
2222222222232333333333222254466988800000000008888888999898889999998999966233333333333333333333333333
2222223333333333333333222255449888000000000008888888899999999899999999996623333333333333333333333333
2222233333333333333333332222498000008999988800000088999999999699989999996642333333333333333333333333
2222333333333333333333333224880000864444466669988888888999999999998999966965333333333333333333333333
2333333333333333333333332249880008445555544444466669999996699999999899966965333333333333333333333333
3333333333333333333333322466690084555555554444444466666666646999969999999965333333333333333333333333
3333333333333333333333322555280045555555544444444444446664444469969999999962333333333333333333333333
3333333333333333333333222222280945555555554444444444444644444455544698966662333333333333333333333333
3333333333333333333333332223288655555555555555555444444444455522224699999662333333333333333333333333
3333333333333333333333333333298455555555555555555555555225522223225666666643333333333333333333333333
3333333333333333333333333333349444666444555555555555555222222222322466446653333333333333333333333333
3333333333333333333333333333356498880089664444444444444444552233333254446653333333333333333333333333
3333333333333333333333333333324696666698896444446998800088996452333335446423333333333333333333333333
3333333333333333333333333256699466699888899666666666699999666445233112446623333333333333333333333333
3333333333333333333333333688853346698880880000888899988999644696522335644433333333333333333333333333
3333333333333333333333333335823244666888998066660969886888999459088622465333333333333333333333333333
3333333333333333333333333333653244444666669955548446999999455555833113553352333333333333333333333333
3333333333333333333333333333262544444446469455224425446644522334233333252323333333333333333333333333
3333333333333333333333333333354554444446666555222645444445223325333333544233333333333333333333333333
3333333333333333333333333333325466644469965552222544255525522553333333555333333333333333333333333333
3333333333333333333333333333325555444444655222333256446644665222233332533333333333333333333333333333
3333333333333333333333333333354555555446555552233334664452333322233322523333333333333333333333333333
3333333333333333333333333333354555554444466444566524644452233332222254533333333333333333333333333333
3333333333333333333333333333346555544444469889886645544445223332222246533333333333333333333333333333
3333333333333333333333333333356455444446688800889644555555223333222466433333333333333333333333333333
3333333333333333333333333333326944469988800000888996996455523322255466233333333333333333333333333333
3333333333333333333333333333334964498880880898889989898965522225546666233333333333333333333333333333
3333333333333333333333333333334889988888888888889988998894525544446995333333333333333333333333333333
3333333333333333333333333333332988999666666666666666666696444444699963333333333333333333333333333333
3333333333333333333333333333333588889646669998889666444466666466988933333333333333333333333333333333
3333333333333333333333333333333360088644469998889664454444696669889453333333333333333333333333333333
3333333333333333333333333333333326008964446999896644554449999988896894233333333333333333333333333333
3333333333333333333333333333333334800896644466664455544699898888924894666533333333333333333333333333
3333333333333333333333333333333294900008896666666666669880888086234644989962333333333333333333333333
3333333333333333333333333333324666980000088966699998888800000862332946969664523333333333333333333333
3333333333333333333333333332549969800898800889888888000000008623332609964454496222222333333333333333
3333333333333333333333333249698499800094469800000000000008945233332298864544646945525522222333333333
3333333333333333333332549889996468880096444468880000009644552233322259996996965552544454555452333333
3333333322222222546666666666964600880086644446669966666444552233322224664998864552554455554446642333
3333354464456669966666989999899800898889666444444444444444552232222224566998966469645555224466645523
3324468696998889646990089666469999668889664464444444444444552222222324229888669989964222555665555224
5469998996998894544988889999999894549899964444444445444445552222233322225988999645544522254696445522
6644446444669964664446699998008944559999444444444444444555222222333322222499969655524445446698996455
4255666645456669999655554690889466656699444444444454445552222222332222232889999644666888094688089645
4466689866649989894645555666996446686699644444444445522232222222222222325688088644669888886660008652
6644454666668008898946696444555554996466644444454444555222222222222333322248008644689988089669889945
8445554444546888664669999944555254448966664555555555222222222232222233222229088644599649688945689694
8954544995255698664452490008996446644695464523222555555555555555233332222226889966544452256965268998
0894666496565698666652256000000008664545254523333332555522223333333322222225699966444554524466456808
6988669646696880898844556800880000094254222552333333333333333333333552222222469864522445645498999998
4268886446666800898644669999968800008425623255223333333333333333325522222232546894223469464448889966
4544899644644800666564698644649988988654443325523333333333333333255233222232248096422596666444999666`;

function setupAsciiPortrait() {
    const portraitTrigger = document.querySelector('.portrait-trigger');
    const asciiArtElement = document.getElementById('ascii-art');
    
    asciiArtElement.textContent = asciiArt;

    portraitTrigger.addEventListener('mouseenter', () => {
        asciiArtElement.classList.add('visible');
        portraitTrigger.style.opacity = '0';
    });

    portraitTrigger.addEventListener('mouseleave', () => {
        asciiArtElement.classList.remove('visible');
        portraitTrigger.style.opacity = '1';
    });
}

function animateSocialIcons() {
    const socialLinks = document.querySelectorAll('.social-links a');
    socialLinks.forEach((link, index) => {
        link.style.opacity = '0';
        link.style.transform = 'translateY(20px)';
        setTimeout(() => {
            link.style.transition = 'all 0.5s ease';
            link.style.opacity = '1';
            link.style.transform = 'translateY(0)';
        }, index * 100);
    });
}

document.addEventListener('DOMContentLoaded', () => {
    loadProjects();
    animateSections();
    animateCounters();
    animateSkillBars();
    animateSocialIcons();
});